Building DAG of jobs...
candidate job all
	wildcards: 
candidate job peakcall
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job remove_pcrdup
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job remove_mito
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job bamq10sort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job mapq10paired
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job mapq10
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job bamsort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job samtobam
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job map
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job trimming
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job trimming
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job trimming
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job trimming
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job map
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job samtobam
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job bamsort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job mapq10
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job mapq10paired
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job bamq10sort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job bamq10index
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
candidate job bamq10sort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job bamq10sort
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job bamq10index
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job remove_mito
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job remove_pcrdup
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job peakcall
	wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver
selected job all
	wildcards: 
Using shell: /usr/bin/bash
Provided cluster nodes: 30
Job counts:
	count	jobs
	1	all
	1	bamq10index
	1	peakcall
	1	remove_mito
	1	remove_pcrdup
	5

[Tue Aug 20 14:54:31 2019]
rule bamq10index:
    input: sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam
    output: sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai
    log: logs/mapping/sus_scrofa/liver/pig1/pig1_liver.bamq10.index.log
    jobid: 5
    wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver

samtools index sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam 2> logs/mapping/sus_scrofa/liver/pig1/pig1_liver.bamq10.index.log
Submitted DRMAA job 5 with external jobid 7306895.
[Tue Aug 20 14:54:51 2019]
Finished job 5.
1 of 5 steps (20%) done

[Tue Aug 20 14:54:51 2019]
rule remove_mito:
    input: sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam, sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai
    output: sus_scrofa/liver/pig1/filtering/pig1_liver.q10.noMT.bam
    log: logs/filtering/sus_scrofa/liver/pig1/pig1_liver.noMT.log
    jobid: 3
    wildcards: sp=sus_scrofa, tiss=liver, anim=pig1, sample=pig1_liver

samtools idxstats sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai | awk '{print $1}' | grep -v MT | xargs samtools view -bh sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai > sus_scrofa/liver/pig1/filtering/pig1_liver.q10.noMT.bam 2> logs/filtering/sus_scrofa/liver/pig1/pig1_liver.noMT.log
Submitted DRMAA job 3 with external jobid 7306897.
[Tue Aug 20 14:55:01 2019]
Error in rule remove_mito:
    jobid: 3
    output: sus_scrofa/liver/pig1/filtering/pig1_liver.q10.noMT.bam
    log: logs/filtering/sus_scrofa/liver/pig1/pig1_liver.noMT.log (check log file(s) for error message)
    shell:
        samtools idxstats sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai | awk '{print $1}' | grep -v MT | xargs samtools view -bh sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam sus_scrofa/liver/pig1/mapping/pig1_liver.q10.bam.bai > sus_scrofa/liver/pig1/filtering/pig1_liver.q10.noMT.bam 2> logs/filtering/sus_scrofa/liver/pig1/pig1_liver.noMT.log
        (exited with non-zero exit code)

Error executing rule remove_mito on cluster (jobid: 3, external: 7306897, jobscript: /work/project/fragencode/tools/atacseq/snakemake/test/.snakemake/tmp.9pgw_jid/snakejob.remove_mito.3.sh). For detailed error see the cluster log.
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /work/project/fragencode/tools/atacseq/snakemake/test/.snakemake/log/2019-08-20T145426.457310.snakemake.log
